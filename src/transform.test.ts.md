# Snapshot report for `src/transform.test.ts`

The actual snapshot is saved in `transform.test.ts.snap`.

Generated by [AVA](https://avajs.dev).

## remove functions

> Snapshot 1

    `pragma solidity ^0.6;␊
    ␊
    contract RemoveFunctions {␊
        ␊
        ␊
    }␊
    `

## rename identifiers

> Snapshot 1

    `pragma solidity ^0.6.0;␊
    ␊
    library RenameLibrary {␊
        function test() external {␊
        }␊
    }␊
    ␊
    contract RenameContract {␊
    }␊
    ␊
    contract RenameDeployer {␊
        RenameContractUpgradeable rc = RenameContractUpgradeable(0);␊
    ␊
        constructor() public {␊
            new RenameContractUpgradeable();␊
        }␊
    ␊
        function deploy() external returns (RenameContractUpgradeable) {␊
            return new RenameContractUpgradeable();␊
        }␊
    ␊
        function test() external {␊
            RenameLibraryUpgradeable.test();␊
        }␊
    }␊
    `

## prepend Initializable base

> Snapshot 1

    `pragma solidity ^0.6.0;␊
    ␊
    library RenameLibrary {␊
        function test() external {␊
        }␊
    }␊
    ␊
    contract RenameContract is Initializable {␊
    }␊
    ␊
    contract RenameDeployer is Initializable {␊
        RenameContract rc = RenameContract(0);␊
    ␊
        constructor() public {␊
            new RenameContract();␊
        }␊
    ␊
        function deploy() external returns (RenameContract) {␊
            return new RenameContract();␊
        }␊
    ␊
        function test() external {␊
            RenameLibrary.test();␊
        }␊
    }␊
    `

## purge var inits

> Snapshot 1

    `pragma solidity ^0.6.0;␊
    ␊
    contract ElementaryTypes  {␊
        address public owner;␊
        bool active;␊
        string hello;␊
        int count;␊
        uint ucount;␊
        bytes32 samevar;␊
        uint x;␊
        uint y;␊
    }␊
    `

## remove inheritance args

> Snapshot 1

    `pragma solidity ^0.6;␊
    ␊
    contract A {␊
        constructor(uint) public {}␊
    }␊
    ␊
    contract B is A {}␊
    `

## transform contract name

> Snapshot 1

    `pragma solidity ^0.6.0;␊
    ␊
    library RenameLibraryUpgradeable {␊
        function test() external {␊
        }␊
    }␊
    ␊
    contract RenameContractUpgradeable {␊
    }␊
    ␊
    contract RenameDeployerUpgradeable {␊
        RenameContract rc = RenameContract(0);␊
    ␊
        constructor() public {␊
            new RenameContract();␊
        }␊
    ␊
        function deploy() external returns (RenameContract) {␊
            return new RenameContract();␊
        }␊
    ␊
        function test() external {␊
            RenameLibrary.test();␊
        }␊
    }␊
    `

## skip contract rename when Upgradeable suffix

> Snapshot 1

    `pragma solidity ^0.6.0;␊
    ␊
    contract AlreadyUpgradeable {␊
    }␊
    `

## fix import directives

> Snapshot 1

    `pragma solidity ^0.6.0;␊
    ␊
    import "./ImportedUpgradeable.sol";␊
    ␊
    contract Local is Imported2 {␊
        constructor(uint x, uint y) Imported2(x, y) public { }␊
    }␊
    `

## fix import directives complex

> Snapshot 1

    `pragma solidity ^0.6.0;␊
    ␊
    import { Imp1Upgradeable } from "./TransformImport2-ImportedUpgradeable.sol";␊
    import { Imp2Upgradeable as ImpX } from "./TransformImport2-ImportedUpgradeable.sol";␊
    ␊
    contract Foo {␊
        using Imp1Upgradeable for Imp1Upgradeable.S;␊
        using ImpX for ImpX.S;␊
    }␊
    `

## append initializable import

> Snapshot 1

    `pragma solidity ^0.6.0;␊
    ␊
    import './Imported.sol';␊
    import "./Initializable.sol";␊
    ␊
    contract Local is Imported2 {␊
        constructor(uint x, uint y) Imported2(x, y) public { }␊
    }␊
    `

## append initializable import custom

> Snapshot 1

    `pragma solidity ^0.6.0;␊
    ␊
    import './Imported.sol';␊
    import "./Initializable2.sol";␊
    ␊
    contract Local is Imported2 {␊
        constructor(uint x, uint y) Imported2(x, y) public { }␊
    }␊
    `

## transform constructor

> Snapshot 1

    `pragma solidity ^0.6;␊
    ␊
    contract Foo1 {␊
        function __Foo1_init() internal onlyInitializing {␊
        }␊
        }␊
    }␊
    ␊
    contract Foo2 {␊
        event Ev();␊
        function __Foo2_init() internal onlyInitializing {␊
            __Foo2_init_unchained();␊
        }␊
    ␊
        function __Foo2_init_unchained() internal onlyInitializing {␊
            emit Ev();␊
        }␊
    }␊
    ␊
    contract Foo3 {␊
        function __Foo3_init() internal onlyInitializing {␊
            __Foo3_init_unchained();␊
        }␊
    ␊
        function __Foo3_init_unchained() internal onlyInitializing {␊
            x = 1;␊
        }␊
        uint x = 1;␊
    }␊
    ␊
    contract Foo4 {␊
        uint x = 1;␊
        event Ev();␊
        function __Foo4_init() internal onlyInitializing {␊
            __Foo4_init_unchained();␊
        }␊
    ␊
        function __Foo4_init_unchained() internal onlyInitializing {␊
            x = 1;␊
            emit Ev();␊
        }␊
    }␊
    ␊
    contract Bar1 {␊
        function __Bar1_init() internal onlyInitializing {␊
        }␊
    ␊
    ␊
    }␊
    ␊
    contract Bar2 is Bar1 {␊
        function __Bar2_init() internal onlyInitializing {␊
            __Bar1_init_unchained();␊
        }␊
    ␊
    ␊
    }␊
    ␊
    contract Bar3 is Bar2 {␊
        function __Bar3_init() internal onlyInitializing {␊
            __Bar1_init_unchained();␊
            __Bar2_init_unchained();␊
        }␊
    ␊
    ␊
    }␊
    ␊
    contract Foo5 {␊
        function __Foo5_init(function () external f) internal onlyInitializing {␊
        }}␊
    }␊
    ␊
    contract Foo6 {␊
        function __Foo6_init(␊
            uint a,␊
            uint b␊
        ) internal onlyInitializing {␊
        }}␊
    }␊
    ␊
    contract Foo7 {␊
        uint a;␊
        function __Foo7_init(␊
            uint _a␊
        ) internal onlyInitializing {␊
            __Foo7_init_unchained(_a);␊
        }␊
    ␊
        function __Foo7_init_unchained(␊
            uint _a␊
        ) internal onlyInitializing {␊
            a = _a;␊
        }␊
    }␊
    ␊
    contract Foo8 {␊
    ␊
        modifier hasModifier(){␊
            _;␊
        }␊
    ␊
        function __Foo8_init() internal onlyInitializing {␊
            __Foo8_init_unchained();␊
        }␊
    ␊
        function __Foo8_init_unchained() internal onlyInitializing {␊
        }␊
    }␊
    ␊
    contract Foo9 {␊
        function __Foo9_init(␊
            uint a,␊
            uint b␊
        ) internal onlyInitializing {␊
            __Foo9_init_unchained(a, b);␊
        }␊
    ␊
        function __Foo9_init_unchained(␊
            uint,␊
            uint b␊
        ) internal onlyInitializing {␊
            b = 0;␊
        }␊
    }␊
    ␊
    contract Foo10 is Foo7(123){␊
        function __Foo10_init() internal onlyInitializing {␊
            __Foo7_init_unchained(123);␊
            __Foo10_init_unchained();␊
        }␊
    ␊
        function __Foo10_init_unchained() internal onlyInitializing {␊
            bar = 1;␊
        }␊
    ␊
        uint bar = 1;␊
    }`

## fix new statement

> Snapshot 1

    `pragma solidity ^0.6;␊
    ␊
    contract Foo {␊
        function initialize(uint x) public virtual initializer {␊
            __Foo_init(x);␊
        }␊
        constructor(uint x) public {}␊
    }␊
    ␊
    contract Bar {␊
        function initialize() public virtual initializer {␊
            __Bar_init();␊
        }␊
    }␊
    ␊
    contract TransformNew {␊
        function test1() external {␊
            Foo foo;␊
            foo = new Foo();␊
            foo.initialize(1);␊
        }␊
    ␊
        function test2() external {␊
            Bar bar;␊
            bar = new Bar();␊
            bar.initialize();␊
        }␊
    }␊
    `

## add storage gaps

> Snapshot 1

    `pragma solidity ^0.6;␊
    ␊
    contract Foo0 {␊
        uint256[50] private __gap;␊
    }␊
    ␊
    contract Foo1 {␊
        uint x;␊
        uint256[49] private __gap;␊
    }␊
    ␊
    contract Foo2 {␊
        uint x;␊
        bool b1;␊
        bool b2;␊
        uint256[48] private __gap;␊
    }␊
    `

## add requested public initializer

> Snapshot 1

    `pragma solidity ^0.6;␊
    ␊
    contract FooWithArgs {␊
        function initialize(uint x, uint y) public virtual initializer {␊
            __FooWithArgs_init(x, y);␊
        }␊
        constructor(uint x, uint y) public {}␊
    }␊
    `

## remove immutable

> Snapshot 1

    `pragma solidity ^0.6.5;␊
    ␊
    contract TransformImmutable {␊
        uint x;␊
        constructor() public {␊
            x = 3;␊
        }␊
    }␊
    `
