# Snapshot report for `src/transform.test.ts`

The actual snapshot is saved in `transform.test.ts.snap`.

Generated by [AVA](https://avajs.dev).

## remove functions

> Snapshot 1

    `pragma solidity ^0.6;␊
    ␊
    contract RemoveFunctions {␊
        ␊
        ␊
    }␊
    `

## rename identifiers

> Snapshot 1

    `pragma solidity ^0.6.0;␊
    ␊
    library RenameLibrary {␊
        function test() external {␊
        }␊
    }␊
    ␊
    contract RenameContract {␊
    }␊
    ␊
    contract RenameDeployer {␊
        RenameContractUpgradeable rc = RenameContractUpgradeable(0);␊
    ␊
        constructor() public {␊
            new RenameContractUpgradeable();␊
        }␊
    ␊
        function deploy() external returns (RenameContractUpgradeable) {␊
            return new RenameContractUpgradeable();␊
        }␊
    ␊
        function test() external {␊
            RenameLibraryUpgradeable.test();␊
        }␊
    }␊
    `

## prepend Initializable base

> Snapshot 1

    `pragma solidity ^0.6.0;␊
    ␊
    library RenameLibrary {␊
        function test() external {␊
        }␊
    }␊
    ␊
    contract RenameContract is Initializable {␊
    }␊
    ␊
    contract RenameDeployer is Initializable {␊
        RenameContract rc = RenameContract(0);␊
    ␊
        constructor() public {␊
            new RenameContract();␊
        }␊
    ␊
        function deploy() external returns (RenameContract) {␊
            return new RenameContract();␊
        }␊
    ␊
        function test() external {␊
            RenameLibrary.test();␊
        }␊
    }␊
    `

## purge var inits

> Snapshot 1

    `pragma solidity ^0.6.0;␊
    ␊
    contract ElementaryTypes  {␊
        address public owner;␊
        bool active;␊
        string hello;␊
        int count;␊
        uint ucount;␊
        bytes32 samevar;␊
        uint x;␊
        uint y;␊
    }␊
    `

## remove inheritance args

> Snapshot 1

    `pragma solidity ^0.6;␊
    ␊
    contract A {␊
        constructor(uint) public {}␊
    }␊
    ␊
    contract B is A {}␊
    `

## transform contract name

> Snapshot 1

    `pragma solidity ^0.6.0;␊
    ␊
    library RenameLibraryUpgradeable {␊
        function test() external {␊
        }␊
    }␊
    ␊
    contract RenameContractUpgradeable {␊
    }␊
    ␊
    contract RenameDeployerUpgradeable {␊
        RenameContract rc = RenameContract(0);␊
    ␊
        constructor() public {␊
            new RenameContract();␊
        }␊
    ␊
        function deploy() external returns (RenameContract) {␊
            return new RenameContract();␊
        }␊
    ␊
        function test() external {␊
            RenameLibrary.test();␊
        }␊
    }␊
    `

## skip contract rename when Upgradeable suffix

> Snapshot 1

    `pragma solidity ^0.6.0;␊
    ␊
    contract AlreadyUpgradeable {␊
    }␊
    `

## fix import directives

> Snapshot 1

    `pragma solidity ^0.6.0;␊
    ␊
    import "./ImportedUpgradeable.sol";␊
    ␊
    contract Local is Imported2 {␊
        constructor(uint x, uint y) Imported2(x, y) public { }␊
    }␊
    `

## fix import directives complex

> Snapshot 1

    `pragma solidity ^0.6.0;␊
    ␊
    import { Imp1Upgradeable } from "./TransformImport2-ImportedUpgradeable.sol";␊
    import { Imp2Upgradeable as ImpX } from "./TransformImport2-ImportedUpgradeable.sol";␊
    ␊
    contract Foo {␊
        using Imp1Upgradeable for Imp1Upgradeable.S;␊
        using ImpX for ImpX.S;␊
    }␊
    `

## append initializable import

> Snapshot 1

    `pragma solidity ^0.6.0;␊
    ␊
    import './Imported.sol';␊
    import "./Initializable.sol";␊
    ␊
    contract Local is Imported2 {␊
        constructor(uint x, uint y) Imported2(x, y) public { }␊
    }␊
    `

## append initializable import custom

> Snapshot 1

    `pragma solidity ^0.6.0;␊
    ␊
    import './Imported.sol';␊
    import "./Initializable2.sol";␊
    ␊
    contract Local is Imported2 {␊
        constructor(uint x, uint y) Imported2(x, y) public { }␊
    }␊
    `

## transform constructor

> Snapshot 1

    `pragma solidity ^0.6;␊
    ␊
    contract Foo1 {␊
        function __Foo1_init() internal initializer {␊
            __Foo1_init_unchained();␊
        }␊
    ␊
        function __Foo1_init_unchained() internal initializer {␊
        }␊
    }␊
    ␊
    contract Foo2 {␊
        event Ev();␊
        function __Foo2_init() internal initializer {␊
            __Foo2_init_unchained();␊
        }␊
    ␊
        function __Foo2_init_unchained() internal initializer {␊
            emit Ev();␊
        }␊
    }␊
    ␊
    contract Foo3 {␊
        function __Foo3_init() internal initializer {␊
            __Foo3_init_unchained();␊
        }␊
    ␊
        function __Foo3_init_unchained() internal initializer {␊
            x = 1;␊
        }␊
        uint x = 1;␊
    }␊
    ␊
    contract Foo4 {␊
        uint x = 1;␊
        event Ev();␊
        function __Foo4_init() internal initializer {␊
            __Foo4_init_unchained();␊
        }␊
    ␊
        function __Foo4_init_unchained() internal initializer {␊
            x = 1;␊
            emit Ev();␊
        }␊
    }␊
    ␊
    contract Bar1 {␊
        function __Bar1_init() internal initializer {␊
            __Bar1_init_unchained();␊
        }␊
    ␊
        function __Bar1_init_unchained() internal initializer {␊
        }␊
    ␊
    }␊
    ␊
    contract Bar2 is Bar1 {␊
        function __Bar2_init() internal initializer {␊
            __Bar1_init_unchained();␊
            __Bar2_init_unchained();␊
        }␊
    ␊
        function __Bar2_init_unchained() internal initializer {␊
        }␊
    ␊
    }␊
    ␊
    contract Bar3 is Bar2 {␊
        function __Bar3_init() internal initializer {␊
            __Bar1_init_unchained();␊
            __Bar2_init_unchained();␊
            __Bar3_init_unchained();␊
        }␊
    ␊
        function __Bar3_init_unchained() internal initializer {␊
        }␊
    ␊
    }␊
    `

## fix new statement

> Snapshot 1

    `pragma solidity ^0.6;␊
    ␊
    contract Foo {␊
        function initialize(uint x) public virtual initializer {␊
            __Foo_init(x);␊
        }␊
        constructor(uint x) public {}␊
    }␊
    ␊
    contract TransformNew {␊
        function test() external {␊
            Foo foo;␊
            foo = new Foo();␊
            foo.initialize(1);␊
        }␊
    }␊
    `

## add storage gaps

> Snapshot 1

    `pragma solidity ^0.6;␊
    ␊
    contract Foo0 {␊
        uint256[50] private __gap;␊
    }␊
    ␊
    contract Foo1 {␊
        uint x;␊
        uint256[49] private __gap;␊
    }␊
    ␊
    contract Foo2 {␊
        uint x;␊
        bool b1;␊
        bool b2;␊
        uint256[48] private __gap;␊
    }␊
    `

## add requested public initializer

> Snapshot 1

    `pragma solidity ^0.6;␊
    ␊
    contract FooWithArgs {␊
        function initialize(uint x, uint y) public virtual initializer {␊
            __FooWithArgs_init(x, y);␊
        }␊
        constructor(uint x, uint y) public {}␊
    }␊
    `

## remove immutable

> Snapshot 1

    `pragma solidity ^0.6.5;␊
    ␊
    contract TransformImmutable {␊
        uint x;␊
        constructor() public {␊
            x = 3;␊
        }␊
    }␊
    `
